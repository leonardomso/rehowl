(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{251:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Rehowl_1=__webpack_require__(569);exports.Rehowl=Rehowl_1.default;var useHowl_1=__webpack_require__(252);exports.useHowl=useHowl_1.default;var Play_1=__webpack_require__(571);exports.Play=Play_1.default;try{src.displayName="src",src.__docgenInfo={description:"",displayName:"src",props:{howl:{defaultValue:null,description:"",name:"howl",required:!0,type:{name:"Howl"}},sprite:{defaultValue:null,description:"",name:"sprite",required:!1,type:{name:"string"}},pause:{defaultValue:null,description:"",name:"pause",required:!1,type:{name:"boolean"}},volume:{defaultValue:null,description:"",name:"volume",required:!1,type:{name:"number"}},mute:{defaultValue:null,description:"",name:"mute",required:!1,type:{name:"boolean"}},stop:{defaultValue:null,description:"",name:"stop",required:!1,type:{name:"boolean"}},seek:{defaultValue:null,description:"",name:"seek",required:!1,type:{name:"number"}},rate:{defaultValue:null,description:"",name:"rate",required:!1,type:{name:"number"}},loop:{defaultValue:null,description:"",name:"loop",required:!1,type:{name:"boolean"}},fade:{defaultValue:null,description:"",name:"fade",required:!1,type:{name:"[number, number, number]"}},onPlay:{defaultValue:null,description:"",name:"onPlay",required:!1,type:{name:"() => void"}},onPlayError:{defaultValue:null,description:"",name:"onPlayError",required:!1,type:{name:"(message: string) => void"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"() => void"}},onPause:{defaultValue:null,description:"",name:"onPause",required:!1,type:{name:"() => void"}},onStop:{defaultValue:null,description:"",name:"onStop",required:!1,type:{name:"() => void"}},onMute:{defaultValue:null,description:"",name:"onMute",required:!1,type:{name:"() => void"}},onVolume:{defaultValue:null,description:"",name:"onVolume",required:!1,type:{name:"() => void"}},onSeek:{defaultValue:null,description:"",name:"onSeek",required:!1,type:{name:"() => void"}},onFade:{defaultValue:null,description:"",name:"onFade",required:!1,type:{name:"() => void"}},onRate:{defaultValue:null,description:"",name:"onRate",required:!1,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/index.ts#src"]={docgenInfo:src.__docgenInfo,name:"src",path:"src/index.ts#src"})}catch(__react_docgen_typescript_loader_error){}},252:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(42),howler_1=__importDefault(__webpack_require__(570));exports.default=function Howl(props){var src=props.src,sprite=props.sprite,format=props.format,html5=props.html5,preload=props.preload,xhrWithCredentials=props.xhrWithCredentials,_a=react_1.useState(null),howl=_a[0],setHowl=_a[1],setState=react_1.useState("unloaded")[1],setLocked=react_1.useState(!0)[1],_d=react_1.useState(null),error=_d[0],setError=_d[1];if(react_1.useEffect((function(){var newHowl=new howler_1.default.Howl({src:src,sprite:sprite,format:format,html5:html5,xhrWithCredentials:xhrWithCredentials,preload:preload,autoplay:!1,onunlock:function(){setLocked(!1)},onload:function(){return setState("loaded")},onloaderror:function(id,message){return setError({id:id,message:message})}});return setHowl(newHowl),function(){setHowl(null),setState("unloaded"),setLocked(!0),setError(null),newHowl&&(newHowl.off(),newHowl.stop(),newHowl.unload())}}),[JSON.stringify(src),JSON.stringify(sprite),JSON.stringify(format),html5,xhrWithCredentials,preload]),!howl)return{howl:null,error:null,state:"unloaded",load:function(){}};var state=howl.state();return{howl:howl,error:error,state:state,load:"unloaded"===state?function(){howl&&howl.load(),setState("loading")}:function(){}}};try{useHowl.displayName="useHowl",useHowl.__docgenInfo={description:"",displayName:"useHowl",props:{src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string | string[]"}},sprite:{defaultValue:null,description:"",name:"sprite",required:!1,type:{name:"IHowlSoundSpriteDefinition"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"string[]"}},html5:{defaultValue:null,description:"",name:"html5",required:!1,type:{name:"boolean"}},preload:{defaultValue:null,description:"",name:"preload",required:!1,type:{name:"boolean"}},xhrWithCredentials:{defaultValue:null,description:"",name:"xhrWithCredentials",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/useHowl.ts#useHowl"]={docgenInfo:useHowl.__docgenInfo,name:"useHowl",path:"src/useHowl.ts#useHowl"})}catch(__react_docgen_typescript_loader_error){}},253:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/sound1.a476e100.mp3"},255:function(module,exports,__webpack_require__){__webpack_require__(256),__webpack_require__(369),module.exports=__webpack_require__(370)},277:function(module,exports){},370:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(254);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(__webpack_require__(554),module)}.call(this,__webpack_require__(371)(module))},554:function(module,exports,__webpack_require__){var map={"./0_useHowl.stories.tsx":555,"./1_Rehowl.stories.tsx":574};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=554},555:function(module,exports,__webpack_require__){"use strict";var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(42)),addon_actions_1=__webpack_require__(556),src_1=__webpack_require__(251),sound1_mp3_1=__importDefault(__webpack_require__(253)),sound2_mp3_1=__importDefault(__webpack_require__(572)),sound2_webm_1=__importDefault(__webpack_require__(573));exports.default={title:"Hook: useHowl"},exports.mountUnmountPlay=function(){var _a=src_1.useHowl({src:sound1_mp3_1.default}),howl=_a.howl,state=_a.state,_b=react_1.useState(!1),play=_b[0],setPlay=_b[1];return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("p",null,"State: ",state),react_1.default.createElement("button",{onClick:function(){return setPlay(!play)}},play?"Unmount!":"Mount!"),play&&react_1.default.createElement(src_1.Play,{howl:howl},(function(_a){var playing=_a.playing;return react_1.default.createElement(react_1.default.Fragment,null,"Playing: ",playing().toString())})))},exports.noPreload=function(){var _a=src_1.useHowl({src:sound1_mp3_1.default,preload:!1}),howl=_a.howl,state=_a.state,load=_a.load,error=_a.error,_b=react_1.useState(!1),play=_b[0],setPlay=_b[1];return react_1.useEffect((function(){addon_actions_1.action(state)()}),[state]),react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("p",null,"State: ",state),error&&react_1.default.createElement("p",null,"Error: ",[error.id,error.message].filter((function(x){return x})).join(" ")," "),"unloaded"===state&&react_1.default.createElement("button",{onClick:function(){return load()}},"Load"),react_1.default.createElement("button",{onClick:function(){return setPlay(!play)}},play?"Unmount!":"Mount!"),play&&react_1.default.createElement(src_1.Play,{howl:howl,onPlayError:addon_actions_1.action("onPlayError")},(function(_a){var playing=_a.playing;return react_1.default.createElement(react_1.default.Fragment,null,"Playing: ",playing().toString())})))},exports.toggleStop=function(){var _a=src_1.useHowl({src:sound1_mp3_1.default}),howl=_a.howl,state=_a.state,_b=react_1.useState(!0),stop=_b[0],setStop=_b[1];return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("p",null,"State: ",state),react_1.default.createElement("button",{onClick:function(){return setStop(!stop)}},stop?"Start":"Stop"),react_1.default.createElement(src_1.Play,{howl:howl,stop:stop,onStop:addon_actions_1.action("onStop"),onPlay:addon_actions_1.action("onPlay")},(function(_a){var playing=_a.playing;return react_1.default.createElement(react_1.default.Fragment,null,"Playing: ",playing().toString())})))},exports.setRate=function(){var _a=src_1.useHowl({src:sound1_mp3_1.default}),howl=_a.howl,state=_a.state,_b=react_1.useState(2),rate=_b[0],setRate=_b[1];return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("p",null,"State: ",state),react_1.default.createElement("p",null,"Rate: ",100*rate,"%"),react_1.default.createElement("button",{onClick:function(){return setRate((function(rate){return Math.max(rate-.5,.5)}))},disabled:rate<=.5},"-0.5"),react_1.default.createElement("button",{onClick:function(){return setRate((function(rate){return Math.min(rate+.5,4)}))},disabled:rate>=4},"+0.5"),react_1.default.createElement(src_1.Play,{howl:howl,rate:rate,onRate:addon_actions_1.action("onRate")},(function(_a){var playing=_a.playing;return react_1.default.createElement(react_1.default.Fragment,null,"Playing: ",playing().toString())})))},exports.togglePause=function(){var _a=src_1.useHowl({src:sound1_mp3_1.default}),howl=_a.howl,state=_a.state,_b=react_1.useState(!1),play=_b[0],setPlay=_b[1];return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("p",null,"State: ",state),react_1.default.createElement("button",{onClick:function(){return setPlay(!play)}},play?"Pause!":"Play!"),react_1.default.createElement(src_1.Play,{howl:howl,pause:!play,onPlay:addon_actions_1.action("onPlay"),onPause:addon_actions_1.action("onPause")},(function(_a){var playing=_a.playing;return react_1.default.createElement(react_1.default.Fragment,null,"Playing: ",playing().toString())})))},exports.toggleMute=function(){var _a=src_1.useHowl({src:sound1_mp3_1.default}),howl=_a.howl,state=_a.state,_b=react_1.useState(!0),mute=_b[0],setMute=_b[1];return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("p",null,"State: ",state),react_1.default.createElement("button",{onClick:function(){return setMute(!mute)}},mute?"Unmute":"Mute"),react_1.default.createElement(src_1.Play,{howl:howl,mute:mute,onPlay:addon_actions_1.action("onPlay"),onMute:addon_actions_1.action("onMute")},(function(_a){var playing=_a.playing;return react_1.default.createElement(react_1.default.Fragment,null,"Playing: ",playing().toString())})))},exports.toggleFade=function(){var _a=src_1.useHowl({src:sound1_mp3_1.default}),howl=_a.howl,state=_a.state,_b=react_1.useState(void 0),silent=_b[0],setSilent=_b[1],_c=react_1.useState(!1),fading=_c[0],setFading=_c[1],setTime=react_1.useState(0)[1],requestRef=react_1.useRef(null),previousTimeRef=react_1.useRef(0),animate=function(time){if(void 0!==previousTimeRef.current){var deltaTime=time-previousTimeRef.current;setTime(deltaTime)}previousTimeRef.current=time,fading&&(requestRef.current=requestAnimationFrame(animate))};return react_1.useEffect((function(){if(fading)return requestRef.current=requestAnimationFrame(animate),function(){requestRef.current&&cancelAnimationFrame(requestRef.current)}}),[fading]),react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("p",null,"State: ",state),react_1.default.createElement("button",{disabled:fading,onClick:function(){setFading(!0),setSilent(!silent)}},fading?silent?"Fading out...":"Fading in...":silent?"Fade in!":"Fade out!"),react_1.default.createElement(src_1.Play,{howl:howl,fade:void 0===silent?void 0:silent?[1,0,2e3]:[0,1,2e3],onFade:function(){return setFading(!1)}},(function(_a){var volume=_a.volume;return react_1.default.createElement("p",null,"Volume is at ",(100*volume()).toFixed(0),"%")})))},exports.onSeekScrubberBar=function(){var howl=src_1.useHowl({src:sound1_mp3_1.default}).howl,_a=react_1.useState(0),targetSeek=_a[0],setTargetSeek=_a[1],_b=react_1.useState(!0),pause=_b[0],setPause=_b[1],_c=react_1.useState(!1),scrubbing=_c[0],setScrubbing=_c[1],_d=react_1.useState(!0),pauseDuringScrub=_d[0],setPauseDuringScrub=_d[1],setTime=react_1.useState(0)[1],requestRef=react_1.useRef(null),previousTimeRef=react_1.useRef(0),animate=function(time){if(void 0!==previousTimeRef.current){var deltaTime=time-previousTimeRef.current;setTime(deltaTime)}previousTimeRef.current=time,requestRef.current=requestAnimationFrame(animate)};return react_1.useEffect((function(){return requestRef.current=requestAnimationFrame(animate),function(){requestRef.current&&cancelAnimationFrame(requestRef.current)}}),[]),react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("div",null,react_1.default.createElement("input",{type:"checkbox",checked:pauseDuringScrub,onChange:function(event){return setPauseDuringScrub(event.target.checked)},id:"pause-during-scrub"}),react_1.default.createElement("label",{htmlFor:"pause-during-scrub"},"Pause while scrubbing")),react_1.default.createElement("button",{onClick:function(){return setPause((function(pause){return!pause}))}},pause?"▶️":"⏸"),react_1.default.createElement(src_1.Play,{howl:howl,seek:targetSeek,pause:pause||pauseDuringScrub&&scrubbing,onEnd:function(){return setPause(!0)},onSeek:addon_actions_1.action("onSeek")},(function(_a){var seek=_a.seek,duration=_a.duration,position=scrubbing&&void 0!==targetSeek?targetSeek:seek(),length=duration();return react_1.default.createElement("div",null,react_1.default.createElement("p",null,position.toFixed(1)," / ",length.toFixed(1)),react_1.default.createElement("input",{type:"range",min:0,max:length,value:position,step:.1,onChange:function(e){var changedPosition=parseFloat(e.target.value);setTargetSeek(changedPosition)},onMouseDown:function(){return setTimeout((function(){return setScrubbing(!0)}),0)},onMouseUp:function(){return setTimeout((function(){return setScrubbing(!1)}),0)}}))})))},exports.simpleSprite=function(){var _a=react_1.useState(1),digit=_a[0],setDigit=_a[1],_b=react_1.useState(!1),loop=_b[0],setLoop=_b[1],_c=src_1.useHowl({src:[sound2_webm_1.default,sound2_mp3_1.default],sprite:{1:[0,450],2:[2e3,250],3:[4e3,350],4:[6e3,380],5:[8e3,340]}}),howl=_c.howl,state=_c.state;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("p",null,"State: ",state),react_1.default.createElement("div",null,[1,2,3,4,5].map((function(digit){return react_1.default.createElement("button",{key:digit,onClick:function(){setDigit(digit)}},digit)}))),react_1.default.createElement("button",{onClick:function(){return setLoop(!loop)}},loop?"Disable Looping":"Enable Looping"),react_1.default.createElement(src_1.Play,{howl:howl,sprite:""+digit,loop:loop}))},exports.complexSprite=function(){var _a=react_1.useState([]),digits=_a[0],setDigits=_a[1],_b=react_1.useState(!1),playBeat=_b[0],setPlayBeat=_b[1],_c=src_1.useHowl({src:[sound2_webm_1.default,sound2_mp3_1.default],sprite:{1:[0,450],2:[2e3,250],3:[4e3,350],4:[6e3,380],5:[8e3,340],beat:[1e4,11163]}}),howl=_c.howl,state=_c.state;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("p",null,"State: ",state),react_1.default.createElement("div",null,[1,2,3,4,5].map((function(digit){return react_1.default.createElement("button",{key:digit,onClick:function(){setDigits((function(digits){return __spreadArrays(digits,[{digit:digit,time:Date.now()}])}))}},digit)}))),react_1.default.createElement("button",{onClick:function(){return setPlayBeat(!playBeat)}},playBeat?"Pause Beat":"Play Beat"),react_1.default.createElement("button",{onClick:function(){var now=Date.now();setDigits((function(digits){return __spreadArrays(digits,[{digit:5,time:now},{digit:4,time:now+1},{digit:3,time:now+2},{digit:2,time:now+3},{digit:1,time:now+4}])}))}},"Play all"),react_1.default.createElement("div",null,react_1.default.createElement(src_1.Play,{howl:howl,sprite:"beat",loop:!0,pause:!playBeat},(function(_a){var playing=_a.playing;return react_1.default.createElement("p",null,"Beat Playing: ",playing().toString())})),digits.map((function(_a,index){var digit=_a.digit,time=_a.time;return react_1.default.createElement(src_1.Play,{howl:howl,sprite:""+digit,key:time,onEnd:function(){return setDigits((function(digits){var targetIndex=digits.findIndex((function(x){return x.time===time}));return targetIndex<0?digits:__spreadArrays(digits.slice(0,targetIndex),digits.slice(targetIndex+1))}))}},(function(_a){var duration=_a.duration;return react_1.default.createElement("p",null,"Playing ",digit," for ",duration())}))}))))},exports.errorBadSRC=function(){var _a=src_1.useHowl({src:"fake"}),howl=_a.howl,state=_a.state,error=_a.error;return react_1.default.createElement(react_1.default.Fragment,null,error&&react_1.default.createElement("p",null,"Error: ",[error.id,error.message].filter((function(x){return x})).join(" ")," "),react_1.default.createElement("p",null,"State: ",state),react_1.default.createElement(src_1.Play,{howl:howl}))},exports.swapSource=function(){var srcs=["nonexistent.mp3",sound1_mp3_1.default,sound2_mp3_1.default],_a=react_1.useState(!1),useHtml5=_a[0],setUseHtml5=_a[1],_b=react_1.useState(srcs[0]),src=_b[0],setSrc=_b[1],_c=src_1.useHowl({src:src,html5:useHtml5}),howl=_c.howl,state=_c.state,error=_c.error;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("h3",null,"Select a sound to play"),srcs.map((function(srcChoice){return react_1.default.createElement("div",{key:srcChoice},react_1.default.createElement("input",{type:"radio",name:"source",checked:srcChoice===src,value:srcChoice,onChange:function(event){event.target.checked&&setSrc(srcChoice)}})," ",srcChoice)})),react_1.default.createElement("div",null,react_1.default.createElement("input",{type:"checkbox",checked:useHtml5,onChange:function(event){return setUseHtml5(event.target.checked)},id:"html5"}),react_1.default.createElement("label",{htmlFor:"html5"},"Use HTML 5 Audio")),react_1.default.createElement("h3",null,"Info"),error&&react_1.default.createElement("p",null,"Error: ",[error.id,error.message].filter((function(x){return x})).join(" ")," "),react_1.default.createElement("p",null,"State: ",state),react_1.default.createElement(src_1.Play,{howl:howl},(function(_a){var playing=_a.playing;return react_1.default.createElement(react_1.default.Fragment,null,"Playing: ",playing().toString())})))}},569:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var useHowl_1=__importDefault(__webpack_require__(252));function Rehowl(props){var children=props.children,src=props.src,sprite=props.sprite,format=props.format,html5=props.html5,preload=props.preload,xhrWithCredentials=props.xhrWithCredentials,_a=useHowl_1.default({src:src,sprite:sprite,format:format,html5:html5,preload:preload,xhrWithCredentials:xhrWithCredentials}),howl=_a.howl,error=_a.error,state=_a.state,load=_a.load;return children&&howl?children({howl:howl,error:error,state:state,load:load}):null}exports.default=Rehowl;try{Rehowl.displayName="Rehowl",Rehowl.__docgenInfo={description:"",displayName:"Rehowl",props:{src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string | string[]"}},sprite:{defaultValue:null,description:"",name:"sprite",required:!1,type:{name:"IHowlSoundSpriteDefinition"}},format:{defaultValue:null,description:"",name:"format",required:!1,type:{name:"string[]"}},html5:{defaultValue:null,description:"",name:"html5",required:!1,type:{name:"boolean"}},preload:{defaultValue:null,description:"",name:"preload",required:!1,type:{name:"boolean"}},xhrWithCredentials:{defaultValue:null,description:"",name:"xhrWithCredentials",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Rehowl.ts#Rehowl"]={docgenInfo:Rehowl.__docgenInfo,name:"Rehowl",path:"src/Rehowl.ts#Rehowl"})}catch(__react_docgen_typescript_loader_error){}},571:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(42);function Play(props){var howl=props.howl,pause=props.pause,sprite=props.sprite,mute=props.mute,volume=props.volume,seek=props.seek,fade=props.fade,stop=props.stop,rate=props.rate,loop=props.loop,children=props.children,_a=react_1.useState(null),playId=_a[0],setPlayId=_a[1],_b=react_1.useState(!0),playing=_b[0],setPlaying=_b[1],_c=react_1.useState(!1),stopped=_c[0],setStopped=_c[1],_d=react_1.useState(!1),unlocked=_d[0],setUnlocked=_d[1],_e=react_1.useState(!1),seeking=_e[0],setSeeking=_e[1],onPlay=react_1.useRef(null),onPlayError=react_1.useRef(null),onEnd=react_1.useRef(null),onPause=react_1.useRef(null),onStop=react_1.useRef(null),onMute=react_1.useRef(null),onVolume=react_1.useRef(null),onSeek=react_1.useRef(null),onFade=react_1.useRef(null),onRate=react_1.useRef(null);react_1.useEffect((function(){onPlay.current=props.onPlay||null}),[props.onPlay]),react_1.useEffect((function(){onPlayError.current=props.onPlayError||null}),[props.onPlayError]),react_1.useEffect((function(){onEnd.current=props.onEnd||null}),[props.onEnd]),react_1.useEffect((function(){onPause.current=props.onPause||null}),[props.onPause]),react_1.useEffect((function(){onStop.current=props.onStop||null}),[props.onStop]),react_1.useEffect((function(){onMute.current=props.onMute||null}),[props.onMute]),react_1.useEffect((function(){onVolume.current=props.onVolume||null}),[props.onVolume]),react_1.useEffect((function(){onSeek.current=props.onSeek||null}),[props.onSeek]),react_1.useEffect((function(){onFade.current=props.onFade||null}),[props.onFade]),react_1.useEffect((function(){onRate.current=props.onRate||null}),[props.onRate]),react_1.useEffect((function(){if(howl){var currentPlayId,startPlaying=!pause&&!stop;return currentPlayId=howl.play(sprite),setPlayId(currentPlayId),startPlaying||(howl.pause(currentPlayId),setPlaying(!1)),howl.once("play",(function(id){id===currentPlayId&&setUnlocked(!0)})),howl.on("play",(function(id){id===currentPlayId&&onPlay.current&&onPlay.current()})),howl.on("playerror",(function(id){id===currentPlayId&&onPlayError.current&&onPlayError.current()})),howl.on("pause",(function(id){id===currentPlayId&&onPause.current&&onPause.current()})),howl.on("end",(function(id){id===currentPlayId&&onEnd.current&&onEnd.current()})),howl.on("stop",(function(id){id===currentPlayId&&onStop.current&&onStop.current()})),howl.on("mute",(function(id){id===currentPlayId&&onMute.current&&onMute.current()})),howl.on("volume",(function(id){id===currentPlayId&&onVolume.current&&onVolume.current()})),howl.on("rate",(function(id){id===currentPlayId&&onRate.current&&onRate.current()})),howl.on("seek",(function(id){id===currentPlayId&&(setSeeking(!1),onSeek.current&&onSeek.current())})),howl.on("fade",(function(id){id===currentPlayId&&onFade.current&&onFade.current()})),function(){howl.stop(currentPlayId),howl.off("play",void 0,currentPlayId),howl.off("playerror",void 0,currentPlayId),howl.off("pause",void 0,currentPlayId),howl.off("end",void 0,currentPlayId),howl.off("stop",void 0,currentPlayId),howl.off("mute",void 0,currentPlayId),howl.off("volume",void 0,currentPlayId),howl.off("rate",void 0,currentPlayId),howl.off("seek",void 0,currentPlayId),howl.off("fade",void 0,currentPlayId),setPlayId(null)}}}),[howl,sprite]),react_1.useEffect((function(){howl&&playId&&unlocked&&(stop?stopped||(howl.stop(playId),setStopped(!0),setPlaying(!1)):playing&&pause?(howl.pause(playId),setStopped(!1),setPlaying(!1)):playing||pause||(howl.play(playId),setStopped(!1),setPlaying(!0)))}),[howl,playId,stopped,unlocked,playing,pause,stop]),react_1.useEffect((function(){howl&&playId&&unlocked&&void 0!==mute&&howl.mute(mute,playId)}),[howl,playId,unlocked,mute]),react_1.useEffect((function(){howl&&playId&&unlocked&&void 0!==volume&&howl.volume()!==volume&&howl.volume(volume,playId)}),[howl,playId,unlocked,volume]),react_1.useEffect((function(){howl&&playId&&unlocked&&void 0!==seek&&(setSeeking(!0),howl.seek(seek,playId))}),[howl,playId,unlocked,seek]),react_1.useEffect((function(){if(howl&&playId&&unlocked&&fade){var from=fade[0],to=fade[1],duration=fade[2];howl.fade(from,to,duration,playId)}}),[howl,playId,unlocked,JSON.stringify(fade)]),react_1.useEffect((function(){if(howl&&playId&&unlocked&&void 0!==rate){var targetRate=rate||1;howl.rate(playId)!==targetRate&&howl.rate(targetRate,playId)}}),[howl,playId,unlocked,rate]),react_1.useEffect((function(){howl&&playId&&unlocked&&void 0!==loop&&howl.loop(playId)!==loop&&howl.loop(loop,playId)}),[howl,playId,unlocked,loop]);var duration=react_1.useCallback((function(){return howl&&playId?sprite?howl.duration(playId):howl.duration():0}),[howl,playId]),getPlaying=react_1.useCallback((function(){return howl&&playId?howl.playing(playId):playing}),[howl,playId]),getSeek=react_1.useCallback((function(){if(!howl||!playId)return 0;if(seeking&&void 0!==seek)return seek;var position=howl.seek(playId);return"number"!=typeof position?0:position}),[howl,playId,seek,seeking]),getVolume=react_1.useCallback((function(){if(!howl||!playId)return 0;var volume=howl.volume(playId);return"number"!=typeof volume?0:volume}),[howl,playId]);return children&&playId&&howl?children({duration:duration,playing:getPlaying,seek:getSeek,volume:getVolume}):null}exports.default=Play;try{Play.displayName="Play",Play.__docgenInfo={description:"",displayName:"Play",props:{howl:{defaultValue:null,description:"",name:"howl",required:!0,type:{name:"Howl"}},sprite:{defaultValue:null,description:"",name:"sprite",required:!1,type:{name:"string"}},pause:{defaultValue:null,description:"",name:"pause",required:!1,type:{name:"boolean"}},volume:{defaultValue:null,description:"",name:"volume",required:!1,type:{name:"number"}},mute:{defaultValue:null,description:"",name:"mute",required:!1,type:{name:"boolean"}},stop:{defaultValue:null,description:"",name:"stop",required:!1,type:{name:"boolean"}},seek:{defaultValue:null,description:"",name:"seek",required:!1,type:{name:"number"}},rate:{defaultValue:null,description:"",name:"rate",required:!1,type:{name:"number"}},loop:{defaultValue:null,description:"",name:"loop",required:!1,type:{name:"boolean"}},fade:{defaultValue:null,description:"",name:"fade",required:!1,type:{name:"[number, number, number]"}},onPlay:{defaultValue:null,description:"",name:"onPlay",required:!1,type:{name:"() => void"}},onPlayError:{defaultValue:null,description:"",name:"onPlayError",required:!1,type:{name:"(message: string) => void"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"() => void"}},onPause:{defaultValue:null,description:"",name:"onPause",required:!1,type:{name:"() => void"}},onStop:{defaultValue:null,description:"",name:"onStop",required:!1,type:{name:"() => void"}},onMute:{defaultValue:null,description:"",name:"onMute",required:!1,type:{name:"() => void"}},onVolume:{defaultValue:null,description:"",name:"onVolume",required:!1,type:{name:"() => void"}},onSeek:{defaultValue:null,description:"",name:"onSeek",required:!1,type:{name:"() => void"}},onFade:{defaultValue:null,description:"",name:"onFade",required:!1,type:{name:"() => void"}},onRate:{defaultValue:null,description:"",name:"onRate",required:!1,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Play.ts#Play"]={docgenInfo:Play.__docgenInfo,name:"Play",path:"src/Play.ts#Play"})}catch(__react_docgen_typescript_loader_error){}},572:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/sound2.7d264796.mp3"},573:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/sound2.af89fcb2.webm"},574:function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(42)),src_1=__webpack_require__(251),sound1_mp3_1=__importDefault(__webpack_require__(253));exports.default={title:"Render Props: Rehowl"},exports.toggleStop=function(){var _a=react_1.useState(!0),stop=_a[0],setStop=_a[1];return react_1.default.createElement(src_1.Rehowl,{src:sound1_mp3_1.default},(function(_a){var howl=_a.howl,state=_a.state;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("p",null,"State: ",state),react_1.default.createElement("button",{onClick:function(){return setStop(!stop)}},stop?"Start":"Stop"),react_1.default.createElement(src_1.Play,{howl:howl,stop:stop},(function(_a){var playing=_a.playing;return react_1.default.createElement(react_1.default.Fragment,null,"Playing: ",playing().toString())})))}))}}},[[255,1,2]]]);
//# sourceMappingURL=main.7f5f15687e4c8a8450fc.bundle.js.map